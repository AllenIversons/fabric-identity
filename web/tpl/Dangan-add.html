<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>档案添加</title>
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="format-detection" content="telephone=no">
<link rel="stylesheet" href="../static/css/x-admin.css" media="all">
</head>

<body>
<div class="x-body">

  <table class="layui-table" id="layui-table">
    <tbody>
      <tr>
        <td><span class="x-red">*</span>姓名</td>
        <td><input type="text" id="UserName" name="UserName" class="layui-input"></td>
        <td>性别</td>
        <td ><select lay-verify="required" name="Sex" class="layui-input" id="Sex">
            <option value="男">男</option>
            <option value="女">女</option>
          </select></td>
        <td >籍贯</td>
        <td ><input type="text" id="BirthPlace" name="BirthPlace" class="layui-input"></td>
      </tr>
      <tr>
        <td>出生日期</td>
        <td><input type="text" id="BirthDay" name="BirthDay" class="layui-input"></td>
        <td>年龄</td>
        <td ><input type="text" id="Age" name="Age" class="layui-input"></td>
        <td >宗教信仰</td>
        <td ><input type="text" id="Religion" name="Religion" class="layui-input"></td>
      </tr>
      <tr>
        <td>邮政编码</td>
        <td><input type="text" id="PostCodes" name="PostCodes" class="layui-input"></td>
        <td>单位性质</td>
        <td ><input type="text" id="TypeofCompany" name="TypeofCompany" class="layui-input"></td>
        <td >工作性质</td>
        <td ><input type="text" id="TypeofWork" name="TypeofWork" class="layui-input"></td>
      </tr>
      <tr>
        <td>通讯地址</td>
        <td colspan="3"><input type="text" id="Address" name="Address" class="layui-input"></td>
        <td > 联系电话</td>
        <td ><input type="text" id="Telephone" name="Telephone" class="layui-input"></td>
      </tr>
      <tr>

        <td>政治面貌</td>
        <td ><select lay-verify="required" name="Role" id="Role" class="layui-input">
            <option value="党员">党员</option>
            <option value="团员">团员</option>
            <option value="群众">群众</option>
          </select></td>
        <td > 婚姻状况</td>
        <td ><select lay-verify="required" name="Married" class="layui-input">
            <option value="已婚">已婚</option>
            <option value="未婚">未婚</option>
          </select></td>

          <td>文化程度</td>
          <td><select lay-verify="required" name="Educated" class="layui-input">
                  <option value="小学">小学</option>
                  <option value="初中">初中</option>
                  <option value="本科">本科</option>
                  <option value="研究生">研究生</option>
                  <option value="博士研究生">博士研究生</option>
              </select></td>
      </tr>
      <tr>
        <td colspan="6" align="right">
            <button type="button" class="layui-btn" id="addBtn" onclick="add()"> 保存 </button>
            <a href="/help"><button class="layui-btn">取消</button></a></td>
      </tr>
    </tbody>
  </table>
</div>
<div>
    <div>
        <form name="archivesForm" id="archivesForm" action="/addArchives" method="post" enctype="text/plain">
            <input id="JSONText" name="jsontext" type="hidden" value=""/>
        </form>
    </div>
</div>
<script src="../static/lib/layui/layui.js" charset="utf-8">
        </script> 
<script src="../static/js/x-layui.js" charset="utf-8">
        </script> 
<script>
    function add() {
        //alert("hellp")
        var objArray = new Array();


        var tableObj = document.getElementById("layui-table");
        var length = tableObj.rows.length;
        //alert(length)
        ArchivesObj = new Object()
        ArchivesObj.UserName = tableObj.rows[0].cells[1].getElementsByTagName("INPUT")[0].value
        ArchivesObj.Sex = tableObj.rows[0].cells[3].getElementsByTagName("SELECT")[0].value
        ArchivesObj.BirthPlace = tableObj.rows[0].cells[5].getElementsByTagName("INPUT")[0].value
        // alert(obj.UserName)
        // alert(obj.Sex)
        // alert(obj.BirthPlace)

        ArchivesObj.BirthDay = tableObj.rows[1].cells[1].getElementsByTagName("INPUT")[0].value
        ArchivesObj.Age = tableObj.rows[1].cells[3].getElementsByTagName("INPUT")[0].value
        ArchivesObj.Religion = tableObj.rows[1].cells[5].getElementsByTagName("INPUT")[0].value

        // alert(obj.BirthDay)
        // alert(obj.Age)
        // alert(obj.Religion)

        ArchivesObj.PostCodes = tableObj.rows[2].cells[1].getElementsByTagName("INPUT")[0].value
        ArchivesObj.TypeofCompany = tableObj.rows[2].cells[3].getElementsByTagName("INPUT")[0].value
        ArchivesObj.TypeofWork = tableObj.rows[2].cells[5].getElementsByTagName("INPUT")[0].value

        // alert(obj.PostCodes)
        // alert(obj.TypeofCompany)
        // alert(obj.TypeofWork)

        ArchivesObj.Address = tableObj.rows[3].cells[1].getElementsByTagName("INPUT")[0].value
        ArchivesObj.Telephone = tableObj.rows[3].cells[3].getElementsByTagName("INPUT")[0].value

        // alert(obj.Address)
        // alert(obj.Telephone)

        ArchivesObj.Role = tableObj.rows[4].cells[1].getElementsByTagName("SELECT")[0].value
        ArchivesObj.Married = tableObj.rows[4].cells[3].getElementsByTagName("SELECT")[0].value
        ArchivesObj.Educated = tableObj.rows[4].cells[5].getElementsByTagName("SELECT")[0].value

        // alert(obj.Role)
        // alert(obj.Married)
        // alert(obj.Educated)

        //alert(ArchivesObj)
        document.getElementById('JSONText').value = JSON.stringify(ArchivesObj)
        document.getElementById("archivesForm").submit()

    }
</script>
</body>
</html>